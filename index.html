<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>n2_nail_studio | é ç´„ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500&display=swap');

        :root {
            --milk-tea: #D5BDAF;
            --cream: #F5EBE0;
            --mocha: #8E7D71;
            --latte: #E3D5CA;
            --dark-mocha: #463F3A;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--cream);
            color: var(--dark-mocha);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .booking-container {
            width: 100%;
            max-width: 420px;
            background: #ffffff;
            border-radius: 30px;
            box-shadow: 0 20px 40px rgba(70, 63, 58, 0.1);
            overflow: hidden;
            margin: 15px;
        }

        .step-content {
            padding: 30px 20px;
            display: none;
            max-height: 80vh;
            overflow-y: auto;
        }

        .step-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn-primary {
            background-color: var(--milk-tea);
            color: white;
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            font-weight: 500;
            transition: 0.3s;
            text-align: center;
            display: block;
            margin-top: 20px;
            border: none;
            cursor: pointer;
        }

        .btn-primary:hover {
            background-color: var(--mocha);
        }

        .btn-line {
            background-color: #06C755;
            color: white;
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            font-weight: 500;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
            text-decoration: none;
        }

        .option-card {
            border: 1px solid var(--latte);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .option-card:hover, .option-card.selected {
            background-color: var(--cream);
            border-color: var(--milk-tea);
        }

        .progress-bar {
            height: 4px;
            background: var(--cream);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--milk-tea);
            width: 20%;
            transition: 0.5s;
        }

        .header-section {
            background-color: var(--latte);
            padding: 30px 20px;
            text-align: center;
        }

        .header-section h1 {
            font-size: 1.5rem;
            letter-spacing: 2px;
            color: var(--mocha);
            margin: 0;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--latte);
            border-radius: 10px;
            margin-top: 8px;
            outline: none;
            background: #fff;
        }

        .section-title {
            font-size: 0.75rem;
            font-weight: bold;
            color: var(--mocha);
            margin: 15px 0 8px 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed var(--latte);
        }
    </style>
</head>
<body>

<div class="booking-container">
    <div class="header-section">
        <h1>n2_nail_studio</h1>
        <p class="text-[10px] mt-2 opacity-60 uppercase tracking-widest">Nail Art & Care Service</p>
    </div>
    
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <!-- æ­¥é©Ÿ 1: è³‡æ–™ -->
    <div class="step-content active" id="step1">
        <h2 class="text-xl mb-4 font-medium text-center">é ç´„è³‡æ–™å¡«å¯«</h2>
        <div class="space-y-4">
            <div>
                <label class="text-xs font-medium text-gray-500">å§“å / ç¨±å‘¼</label>
                <input type="text" id="userName" placeholder="å¦‚ä½•ç¨±å‘¼æ‚¨ï¼Ÿ">
            </div>
            <div>
                <label class="text-xs font-medium text-gray-500">æ‰‹æ©Ÿè™Ÿç¢¼</label>
                <input type="tel" id="userPhone" placeholder="è¯ç¹«æ‰‹æ©Ÿ">
            </div>
            <button class="btn-primary" onclick="goToStep(2, 40)">ä¸‹ä¸€æ­¥</button>
        </div>
    </div>

    <!-- æ­¥é©Ÿ 2: æ—¥æœŸ -->
    <div class="step-content" id="step2">
        <h2 class="text-xl mb-4 font-medium text-center">é¸æ“‡é ç´„æ—¥æœŸ</h2>
        <div class="space-y-4">
            <div>
                <label class="text-xs font-medium text-gray-500">æ—¥æœŸ (ä¸å¯é¸ä»Šå¤©ä¹‹å‰)</label>
                <input type="date" id="bookDate">
            </div>
            <div>
                <label class="text-xs font-medium text-gray-500">æ™‚æ®µ</label>
                <select id="bookTime">
                    <option value="">è«‹é¸æ“‡æ™‚æ®µ</option>
                    <option value="11:00">11:00</option>
                    <option value="13:30">13:30</option>
                    <option value="16:00">16:00</option>
                    <option value="18:30">18:30</option>
                    <option value="20:00">20:00</option>
                </select>
            </div>
            <button class="btn-primary" onclick="goToStep(3, 60)">ç¢ºèªæ™‚æ®µ</button>
            <p class="text-center text-xs mt-4 text-gray-400 cursor-pointer" onclick="goToStep(1, 20)">è¿”å›ä¸Šä¸€æ­¥</p>
        </div>
    </div>

    <!-- æ­¥é©Ÿ 3: å¸ç”² -->
    <div class="step-content" id="step3">
        <h2 class="text-xl mb-4 font-medium text-center">å¸ç”²éœ€æ±‚</h2>
        <div class="space-y-2">
            <p class="section-title">æ­é…çºŒä½œé …ç›®</p>
            <div class="option-card" onclick="handleRemoval('æœ¬åº—å¸ç”²çºŒä½œ', 'NT$ 200')">
                <span>æœ¬åº—å¸ç”²çºŒä½œ</span>
                <span class="text-xs text-gray-400">+ NT$ 200</span>
            </div>
            <div class="option-card" onclick="handleRemoval('ä»–åº—å¸ç”²çºŒä½œ', 'NT$ 300')">
                <span>ä»–åº—å¸ç”²çºŒä½œ</span>
                <span class="text-xs text-gray-400">+ NT$ 300</span>
            </div>
            <div class="option-card" onclick="handleRemoval('ä¸å¸ç”²', 'NT$ 0')">
                <span>ä¸å¸ç”²ç›´æ¥æ–½ä½œ</span>
                <span class="text-xs text-gray-400">+ NT$ 0</span>
            </div>
            <p class="section-title">å–®ç´”å¸ç”²æœå‹™</p>
            <div class="option-card" onclick="handleRemoval('ã€Œåƒ…ã€æœ¬åº—å¸ç”²', 'NT$ 400', true)">
                <span>ã€Œåƒ…ã€æœ¬åº—å¸ç”² (å«ä¿é¤Š)</span>
                <span class="text-xs text-gray-400">NT$ 400</span>
            </div>
            <div class="option-card" onclick="handleRemoval('ã€Œåƒ…ã€ä»–åº—å¸ç”²', 'NT$ 500', true)">
                <span>ã€Œåƒ…ã€ä»–åº—å¸ç”² (å«ä¿é¤Š)</span>
                <span class="text-xs text-gray-400">NT$ 500</span>
            </div>
        </div>
        <p class="text-center text-xs mt-4 text-gray-400 cursor-pointer" onclick="goToStep(2, 40)">è¿”å›ä¸Šä¸€æ­¥</p>
    </div>

    <!-- æ­¥é©Ÿ 4: æœå‹™é …ç›® -->
    <div class="step-content" id="step4">
        <h2 class="text-xl mb-1 font-medium text-center">æœå‹™é …ç›®</h2>
        <p class="text-xs text-gray-400 mb-4 text-center">è«‹é¸æ“‡æ–½ä½œæ¬¾å¼</p>
        
        <div class="space-y-1">
            <p class="section-title">åŸºç¤ç³»åˆ—</p>
            <div class="option-card" onclick="handleStyle('å–®è‰²', 'NT$ 700')">
                <span class="text-sm">å–®è‰²</span>
                <span class="text-xs">NT$ 700</span>
            </div>
            <div class="option-card" onclick="handleStyle('è·³è‰²', 'NT$ 800')">
                <div>
                    <p class="text-sm">è·³è‰²</p>
                    <p class="text-[10px] text-gray-400">å¯è·³ä¸€è‰² / å¤šä¸€è‰² +50</p>
                </div>
                <span class="text-xs">NT$ 800</span>
            </div>
            <div class="option-card" onclick="handleStyle('è²“çœ¼/æ¥µå…‰/ç’€ç’¨', 'NT$ 800')">
                <div>
                    <p class="text-sm">è²“çœ¼ / æ¥µå…‰ / ç’€ç’¨</p>
                    <p class="text-[10px] text-gray-400">è·³ä¸€è‰² +100</p>
                </div>
                <span class="text-xs">NT$ 800</span>
            </div>
            <div class="option-card" onclick="handleStyle('ç¶“å…¸æ³•å¼', 'NT$ 900')">
                <span class="text-sm">ç¶“å…¸æ³•å¼</span>
                <span class="text-xs">NT$ 900</span>
            </div>

            <p class="section-title">é€ å‹ç³»åˆ— (ä¾è¤‡é›œåº¦å ±åƒ¹)</p>
            <div class="option-card" onclick="handleStyle('é€ å‹è¨­è¨ˆ (ä½)', 'NT$ 1100')">
                <span class="text-sm">é€ å‹è¨­è¨ˆ (ä½)</span>
                <span class="text-xs">NT$ 1100</span>
            </div>
            <div class="option-card" onclick="handleStyle('é€ å‹è¨­è¨ˆ (ä¸­)', 'NT$ 1200')">
                <span class="text-sm">é€ å‹è¨­è¨ˆ (ä¸­)</span>
                <span class="text-xs">NT$ 1200</span>
            </div>
            <div class="option-card" onclick="handleStyle('é€ å‹è¨­è¨ˆ (é«˜)', 'NT$ 1300')">
                <span class="text-sm">é€ å‹è¨­è¨ˆ (é«˜)</span>
                <span class="text-xs">NT$ 1300</span>
            </div>
            <div class="option-card" onclick="handleStyle('ä¸æŒ‘æ¬¾è¨­è¨ˆ (ç¾ç”²å¸«ç™¼æ®)', 'NT$ 1400â†‘')">
                <span class="text-sm">ä¸æŒ‘æ¬¾è¨­è¨ˆ</span>
                <span class="text-xs">NT$ 1400â†‘</span>
            </div>
            <div class="option-card" onclick="handleStyle('å¸¶åœ–æ–½å·¥ (è«‹ç§è¨Šå ±åƒ¹)', 'NT$ 1500â†‘')">
                <span class="text-sm">å¸¶åœ–æ–½å·¥</span>
                <span class="text-xs">NT$ 1500â†‘</span>
            </div>
        </div>
        <p class="text-center text-xs mt-6 text-gray-400 cursor-pointer" onclick="goToStep(3, 60)">è¿”å›ä¸Šä¸€æ­¥</p>
    </div>

    <!-- æ­¥é©Ÿ 5: çµç®—æ˜ç´° -->
    <div class="step-content" id="step5">
        <h2 class="text-xl font-medium mb-4 text-center">é ç´„æ˜ç´°ç¢ºèª</h2>
        
        <div class="bg-[#FAF7F2] p-5 rounded-2xl border border-[#F0E6D8] space-y-3 mb-6" id="summaryList">
            <!-- ç”± JS å‹•æ…‹ç”Ÿæˆ -->
        </div>

        <p class="text-sm text-gray-500 px-4 mb-6 text-center leading-relaxed">ç¢ºèªç„¡èª¤å¾Œè«‹ç™¼é€è‡³ LINE<br>ç¾ç”²å¸«ç¢ºèªæ™‚æ®µå¾Œå³é ç´„æˆåŠŸï¼</p>
        
        <a id="lineLink" href="#" target="_blank" class="btn-line">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg" width="22" alt="LINE">
            ç™¼é€é ç´„æ˜ç´°è‡³ LINE
        </a>

        <div class="mt-8 p-4 bg-gray-50 rounded-2xl text-left border border-gray-100">
            <p class="text-xs font-bold text-[#8E7D71]">n2_nail_studio è³‡è¨Šï¼š</p>
            <ul class="text-[11px] text-[#A69080] mt-2 list-disc pl-4 space-y-1">
                <li>åœ°å€ï¼šå°å—å¸‚å®‰å—å€å®‰å’Œè·¯äº”æ®µ396è™Ÿ</li>
                <li>å‚™è¨»ï¼šä¿ç•™ 15 åˆ†é˜ï¼Œé€¾æ™‚è«‹æå‰å‘ŠçŸ¥ã€‚</li>
            </ul>
        </div>
    </div>
</div>

<script>
    // è¨­å®šæ—¥æœŸé¸æ“‡å™¨æœ€å°å€¼ç‚ºä»Šå¤©
    window.onload = function() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('bookDate').setAttribute('min', today);
    };

    let bookingData = {
        name: '', phone: '', date: '', time: '', removal: '', removalPrice: '', style: '', stylePrice: ''
    };

    function goToStep(stepNumber, progressWidth) {
        if (stepNumber === 2) {
            bookingData.name = document.getElementById('userName').value;
            bookingData.phone = document.getElementById('userPhone').value;
            if(!bookingData.name || !bookingData.phone) { alert('è«‹å¡«å¯«å®Œæ•´è¯ç¹«è³‡æ–™'); return; }
        }
        if (stepNumber === 3) {
            bookingData.date = document.getElementById('bookDate').value;
            bookingData.time = document.getElementById('bookTime').value;
            if(!bookingData.date || !bookingData.time) { alert('è«‹é¸æ“‡æ—¥æœŸèˆ‡æ™‚æ®µ'); return; }
        }

        document.querySelectorAll('.step-content').forEach(s => s.classList.remove('active'));
        document.getElementById('step' + stepNumber).classList.add('active');
        document.getElementById('progressFill').style.width = progressWidth + '%';
        window.scrollTo(0, 0);

        if (stepNumber === 5) renderSummary();
    }

    function handleRemoval(text, price, isOnlyRemoval = false) {
        bookingData.removal = text;
        bookingData.removalPrice = price;
        if (isOnlyRemoval) { 
            bookingData.style = 'åƒ…å¸ç”²ä¿é¤Š'; 
            bookingData.stylePrice = price;
            goToStep(5, 100); 
        } 
        else { goToStep(4, 80); }
    }

    function handleStyle(text, price) {
        bookingData.style = text;
        bookingData.stylePrice = price;
        goToStep(5, 100);
    }

    function renderSummary() {
        const summaryDiv = document.getElementById('summaryList');
        const items = [
            { label: 'é ç´„å§“å', value: bookingData.name },
            { label: 'è¯ç¹«é›»è©±', value: bookingData.phone },
            { label: 'é ç´„æ—¥æœŸ', value: bookingData.date },
            { label: 'é ç´„æ™‚æ®µ', value: bookingData.time },
            { label: 'å¸ç”²éœ€æ±‚', value: bookingData.removal + ' (' + bookingData.removalPrice + ')' },
            { label: 'æ–½ä½œæ¬¾å¼', value: bookingData.style + ' (' + bookingData.stylePrice + ')' }
        ];

        summaryDiv.innerHTML = items.map(item => `
            <div class="summary-item">
                <span class="text-xs text-gray-400">${item.label}</span>
                <span class="text-sm font-medium">${item.value}</span>
            </div>
        `).join('');

        generateLineLink();
    }

    function generateLineLink() {
        const message = `ä½ å¥½ï¼æˆ‘è¦é ç´„ n2_nail_studioï¼š\n\n` +
                        `ğŸ‘¤ å§“åï¼š${bookingData.name}\n` +
                        `ğŸ“ é›»è©±ï¼š${bookingData.phone}\n` +
                        `ğŸ“… æ—¥æœŸï¼š${bookingData.date}\n` +
                        `â° æ™‚æ®µï¼š${bookingData.time}\n` +
                        `âœ¨ å¸ç”²ï¼š${bookingData.removal} (${bookingData.removalPrice})\n` +
                        `ğŸ¨ æ¬¾å¼ï¼š${bookingData.style} (${bookingData.stylePrice})\n\n` +
                        `è«‹å¹«æˆ‘ç¢ºèªæ™‚æ®µï¼Œè¬è¬ï¼`;
        
        document.getElementById('lineLink').href = `https://line.me/R/share?text=${encodeURIComponent(message)}`;
    }
</script>

</body>
</html>